{"ast":null,"code":"/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { getCorrectEventName, getCorrectPropertyName } from '@material/animation/util';\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, numbers, strings } from './constants';\nvar DOWN_EVENTS = ['mousedown', 'pointerdown', 'touchstart'];\nvar UP_EVENTS = ['mouseup', 'pointerup', 'touchend'];\nvar MOVE_EVENT_MAP = {\n  mousedown: 'mousemove',\n  pointerdown: 'pointermove',\n  touchstart: 'touchmove'\n};\nvar KEY_IDS = {\n  ARROW_DOWN: 'ArrowDown',\n  ARROW_LEFT: 'ArrowLeft',\n  ARROW_RIGHT: 'ArrowRight',\n  ARROW_UP: 'ArrowUp',\n  END: 'End',\n  HOME: 'Home',\n  PAGE_DOWN: 'PageDown',\n  PAGE_UP: 'PageUp'\n};\n\nvar MDCSliderFoundation =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(MDCSliderFoundation, _super);\n\n  function MDCSliderFoundation(adapter) {\n    var _this = _super.call(this, tslib_1.__assign({}, MDCSliderFoundation.defaultAdapter, adapter)) || this;\n    /**\n     * We set this to NaN since we want it to be a number, but we can't use '0' or '-1'\n     * because those could be valid tabindices set by the client code.\n     */\n\n\n    _this.savedTabIndex_ = NaN;\n    _this.active_ = false;\n    _this.inTransit_ = false;\n    _this.isDiscrete_ = false;\n    _this.hasTrackMarker_ = false;\n    _this.handlingThumbTargetEvt_ = false;\n    _this.min_ = 0;\n    _this.max_ = 100;\n    _this.step_ = 0;\n    _this.value_ = 0;\n    _this.disabled_ = false;\n    _this.preventFocusState_ = false;\n\n    _this.thumbContainerPointerHandler_ = function () {\n      return _this.handlingThumbTargetEvt_ = true;\n    };\n\n    _this.interactionStartHandler_ = function (evt) {\n      return _this.handleDown_(evt);\n    };\n\n    _this.keydownHandler_ = function (evt) {\n      return _this.handleKeydown_(evt);\n    };\n\n    _this.focusHandler_ = function () {\n      return _this.handleFocus_();\n    };\n\n    _this.blurHandler_ = function () {\n      return _this.handleBlur_();\n    };\n\n    _this.resizeHandler_ = function () {\n      return _this.layout();\n    };\n\n    return _this;\n  }\n\n  Object.defineProperty(MDCSliderFoundation, \"cssClasses\", {\n    get: function () {\n      return cssClasses;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MDCSliderFoundation, \"strings\", {\n    get: function () {\n      return strings;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MDCSliderFoundation, \"numbers\", {\n    get: function () {\n      return numbers;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(MDCSliderFoundation, \"defaultAdapter\", {\n    get: function () {\n      // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n      return {\n        hasClass: function () {\n          return false;\n        },\n        addClass: function () {\n          return undefined;\n        },\n        removeClass: function () {\n          return undefined;\n        },\n        getAttribute: function () {\n          return null;\n        },\n        setAttribute: function () {\n          return undefined;\n        },\n        removeAttribute: function () {\n          return undefined;\n        },\n        computeBoundingRect: function () {\n          return {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n            width: 0,\n            height: 0\n          };\n        },\n        getTabIndex: function () {\n          return 0;\n        },\n        registerInteractionHandler: function () {\n          return undefined;\n        },\n        deregisterInteractionHandler: function () {\n          return undefined;\n        },\n        registerThumbContainerInteractionHandler: function () {\n          return undefined;\n        },\n        deregisterThumbContainerInteractionHandler: function () {\n          return undefined;\n        },\n        registerBodyInteractionHandler: function () {\n          return undefined;\n        },\n        deregisterBodyInteractionHandler: function () {\n          return undefined;\n        },\n        registerResizeHandler: function () {\n          return undefined;\n        },\n        deregisterResizeHandler: function () {\n          return undefined;\n        },\n        notifyInput: function () {\n          return undefined;\n        },\n        notifyChange: function () {\n          return undefined;\n        },\n        setThumbContainerStyleProperty: function () {\n          return undefined;\n        },\n        setTrackStyleProperty: function () {\n          return undefined;\n        },\n        setMarkerValue: function () {\n          return undefined;\n        },\n        appendTrackMarkers: function () {\n          return undefined;\n        },\n        removeTrackMarkers: function () {\n          return undefined;\n        },\n        setLastTrackMarkersStyleProperty: function () {\n          return undefined;\n        },\n        isRTL: function () {\n          return false;\n        }\n      }; // tslint:enable:object-literal-sort-keys\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MDCSliderFoundation.prototype.init = function () {\n    var _this = this;\n\n    this.isDiscrete_ = this.adapter_.hasClass(cssClasses.IS_DISCRETE);\n    this.hasTrackMarker_ = this.adapter_.hasClass(cssClasses.HAS_TRACK_MARKER);\n    DOWN_EVENTS.forEach(function (evtName) {\n      _this.adapter_.registerInteractionHandler(evtName, _this.interactionStartHandler_);\n\n      _this.adapter_.registerThumbContainerInteractionHandler(evtName, _this.thumbContainerPointerHandler_);\n    });\n    this.adapter_.registerInteractionHandler('keydown', this.keydownHandler_);\n    this.adapter_.registerInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.registerInteractionHandler('blur', this.blurHandler_);\n    this.adapter_.registerResizeHandler(this.resizeHandler_);\n    this.layout(); // At last step, provide a reasonable default value to discrete slider\n\n    if (this.isDiscrete_ && this.getStep() === 0) {\n      this.step_ = 1;\n    }\n  };\n\n  MDCSliderFoundation.prototype.destroy = function () {\n    var _this = this;\n\n    DOWN_EVENTS.forEach(function (evtName) {\n      _this.adapter_.deregisterInteractionHandler(evtName, _this.interactionStartHandler_);\n\n      _this.adapter_.deregisterThumbContainerInteractionHandler(evtName, _this.thumbContainerPointerHandler_);\n    });\n    this.adapter_.deregisterInteractionHandler('keydown', this.keydownHandler_);\n    this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);\n    this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);\n    this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n  };\n\n  MDCSliderFoundation.prototype.setupTrackMarker = function () {\n    if (this.isDiscrete_ && this.hasTrackMarker_ && this.getStep() !== 0) {\n      var min = this.getMin();\n      var max = this.getMax();\n      var step = this.getStep();\n      var numMarkers = (max - min) / step; // In case distance between max & min is indivisible to step,\n      // we place the secondary to last marker proportionally at where thumb\n      // could reach and place the last marker at max value\n\n      var indivisible = Math.ceil(numMarkers) !== numMarkers;\n\n      if (indivisible) {\n        numMarkers = Math.ceil(numMarkers);\n      }\n\n      this.adapter_.removeTrackMarkers();\n      this.adapter_.appendTrackMarkers(numMarkers);\n\n      if (indivisible) {\n        var lastStepRatio = (max - numMarkers * step) / step + 1;\n        this.adapter_.setLastTrackMarkersStyleProperty('flex-grow', String(lastStepRatio));\n      }\n    }\n  };\n\n  MDCSliderFoundation.prototype.layout = function () {\n    this.rect_ = this.adapter_.computeBoundingRect();\n    this.updateUIForCurrentValue_();\n  };\n\n  MDCSliderFoundation.prototype.getValue = function () {\n    return this.value_;\n  };\n\n  MDCSliderFoundation.prototype.setValue = function (value) {\n    this.setValue_(value, false);\n  };\n\n  MDCSliderFoundation.prototype.getMax = function () {\n    return this.max_;\n  };\n\n  MDCSliderFoundation.prototype.setMax = function (max) {\n    if (max < this.min_) {\n      throw new Error('Cannot set max to be less than the slider\\'s minimum value');\n    }\n\n    this.max_ = max;\n    this.setValue_(this.value_, false, true);\n    this.adapter_.setAttribute(strings.ARIA_VALUEMAX, String(this.max_));\n    this.setupTrackMarker();\n  };\n\n  MDCSliderFoundation.prototype.getMin = function () {\n    return this.min_;\n  };\n\n  MDCSliderFoundation.prototype.setMin = function (min) {\n    if (min > this.max_) {\n      throw new Error('Cannot set min to be greater than the slider\\'s maximum value');\n    }\n\n    this.min_ = min;\n    this.setValue_(this.value_, false, true);\n    this.adapter_.setAttribute(strings.ARIA_VALUEMIN, String(this.min_));\n    this.setupTrackMarker();\n  };\n\n  MDCSliderFoundation.prototype.getStep = function () {\n    return this.step_;\n  };\n\n  MDCSliderFoundation.prototype.setStep = function (step) {\n    if (step < 0) {\n      throw new Error('Step cannot be set to a negative number');\n    }\n\n    if (this.isDiscrete_ && (typeof step !== 'number' || step < 1)) {\n      step = 1;\n    }\n\n    this.step_ = step;\n    this.setValue_(this.value_, false, true);\n    this.setupTrackMarker();\n  };\n\n  MDCSliderFoundation.prototype.isDisabled = function () {\n    return this.disabled_;\n  };\n\n  MDCSliderFoundation.prototype.setDisabled = function (disabled) {\n    this.disabled_ = disabled;\n    this.toggleClass_(cssClasses.DISABLED, this.disabled_);\n\n    if (this.disabled_) {\n      this.savedTabIndex_ = this.adapter_.getTabIndex();\n      this.adapter_.setAttribute(strings.ARIA_DISABLED, 'true');\n      this.adapter_.removeAttribute('tabindex');\n    } else {\n      this.adapter_.removeAttribute(strings.ARIA_DISABLED);\n\n      if (!isNaN(this.savedTabIndex_)) {\n        this.adapter_.setAttribute('tabindex', String(this.savedTabIndex_));\n      }\n    }\n  };\n  /**\n   * Called when the user starts interacting with the slider\n   */\n\n\n  MDCSliderFoundation.prototype.handleDown_ = function (downEvent) {\n    var _this = this;\n\n    if (this.disabled_) {\n      return;\n    }\n\n    this.preventFocusState_ = true;\n    this.setInTransit_(!this.handlingThumbTargetEvt_);\n    this.handlingThumbTargetEvt_ = false;\n    this.setActive_(true);\n\n    var moveHandler = function (moveEvent) {\n      _this.handleMove_(moveEvent);\n    };\n\n    var moveEventType = MOVE_EVENT_MAP[downEvent.type]; // Note: upHandler is [de]registered on ALL potential pointer-related release event types, since some browsers\n    // do not always fire these consistently in pairs.\n    // (See https://github.com/material-components/material-components-web/issues/1192)\n\n    var upHandler = function () {\n      _this.handleUp_();\n\n      _this.adapter_.deregisterBodyInteractionHandler(moveEventType, moveHandler);\n\n      UP_EVENTS.forEach(function (evtName) {\n        return _this.adapter_.deregisterBodyInteractionHandler(evtName, upHandler);\n      });\n    };\n\n    this.adapter_.registerBodyInteractionHandler(moveEventType, moveHandler);\n    UP_EVENTS.forEach(function (evtName) {\n      return _this.adapter_.registerBodyInteractionHandler(evtName, upHandler);\n    });\n    this.setValueFromEvt_(downEvent);\n  };\n  /**\n   * Called when the user moves the slider\n   */\n\n\n  MDCSliderFoundation.prototype.handleMove_ = function (evt) {\n    evt.preventDefault();\n    this.setValueFromEvt_(evt);\n  };\n  /**\n   * Called when the user's interaction with the slider ends\n   */\n\n\n  MDCSliderFoundation.prototype.handleUp_ = function () {\n    this.setActive_(false);\n    this.adapter_.notifyChange();\n  };\n  /**\n   * Returns the pageX of the event\n   */\n\n\n  MDCSliderFoundation.prototype.getPageX_ = function (evt) {\n    if (evt.targetTouches && evt.targetTouches.length > 0) {\n      return evt.targetTouches[0].pageX;\n    }\n\n    return evt.pageX;\n  };\n  /**\n   * Sets the slider value from an event\n   */\n\n\n  MDCSliderFoundation.prototype.setValueFromEvt_ = function (evt) {\n    var pageX = this.getPageX_(evt);\n    var value = this.computeValueFromPageX_(pageX);\n    this.setValue_(value, true);\n  };\n  /**\n   * Computes the new value from the pageX position\n   */\n\n\n  MDCSliderFoundation.prototype.computeValueFromPageX_ = function (pageX) {\n    var _a = this,\n        max = _a.max_,\n        min = _a.min_;\n\n    var xPos = pageX - this.rect_.left;\n    var pctComplete = xPos / this.rect_.width;\n\n    if (this.adapter_.isRTL()) {\n      pctComplete = 1 - pctComplete;\n    } // Fit the percentage complete between the range [min,max]\n    // by remapping from [0, 1] to [min, min+(max-min)].\n\n\n    return min + pctComplete * (max - min);\n  };\n  /**\n   * Handles keydown events\n   */\n\n\n  MDCSliderFoundation.prototype.handleKeydown_ = function (evt) {\n    var keyId = this.getKeyId_(evt);\n    var value = this.getValueForKeyId_(keyId);\n\n    if (isNaN(value)) {\n      return;\n    } // Prevent page from scrolling due to key presses that would normally scroll the page\n\n\n    evt.preventDefault();\n    this.adapter_.addClass(cssClasses.FOCUS);\n    this.setValue_(value, true);\n    this.adapter_.notifyChange();\n  };\n  /**\n   * Returns the computed name of the event\n   */\n\n\n  MDCSliderFoundation.prototype.getKeyId_ = function (kbdEvt) {\n    if (kbdEvt.key === KEY_IDS.ARROW_LEFT || kbdEvt.keyCode === 37) {\n      return KEY_IDS.ARROW_LEFT;\n    }\n\n    if (kbdEvt.key === KEY_IDS.ARROW_RIGHT || kbdEvt.keyCode === 39) {\n      return KEY_IDS.ARROW_RIGHT;\n    }\n\n    if (kbdEvt.key === KEY_IDS.ARROW_UP || kbdEvt.keyCode === 38) {\n      return KEY_IDS.ARROW_UP;\n    }\n\n    if (kbdEvt.key === KEY_IDS.ARROW_DOWN || kbdEvt.keyCode === 40) {\n      return KEY_IDS.ARROW_DOWN;\n    }\n\n    if (kbdEvt.key === KEY_IDS.HOME || kbdEvt.keyCode === 36) {\n      return KEY_IDS.HOME;\n    }\n\n    if (kbdEvt.key === KEY_IDS.END || kbdEvt.keyCode === 35) {\n      return KEY_IDS.END;\n    }\n\n    if (kbdEvt.key === KEY_IDS.PAGE_UP || kbdEvt.keyCode === 33) {\n      return KEY_IDS.PAGE_UP;\n    }\n\n    if (kbdEvt.key === KEY_IDS.PAGE_DOWN || kbdEvt.keyCode === 34) {\n      return KEY_IDS.PAGE_DOWN;\n    }\n\n    return '';\n  };\n  /**\n   * Computes the value given a keyboard key ID\n   */\n\n\n  MDCSliderFoundation.prototype.getValueForKeyId_ = function (keyId) {\n    var _a = this,\n        max = _a.max_,\n        min = _a.min_,\n        step = _a.step_;\n\n    var delta = step || (max - min) / 100;\n    var valueNeedsToBeFlipped = this.adapter_.isRTL() && (keyId === KEY_IDS.ARROW_LEFT || keyId === KEY_IDS.ARROW_RIGHT);\n\n    if (valueNeedsToBeFlipped) {\n      delta = -delta;\n    }\n\n    switch (keyId) {\n      case KEY_IDS.ARROW_LEFT:\n      case KEY_IDS.ARROW_DOWN:\n        return this.value_ - delta;\n\n      case KEY_IDS.ARROW_RIGHT:\n      case KEY_IDS.ARROW_UP:\n        return this.value_ + delta;\n\n      case KEY_IDS.HOME:\n        return this.min_;\n\n      case KEY_IDS.END:\n        return this.max_;\n\n      case KEY_IDS.PAGE_UP:\n        return this.value_ + delta * numbers.PAGE_FACTOR;\n\n      case KEY_IDS.PAGE_DOWN:\n        return this.value_ - delta * numbers.PAGE_FACTOR;\n\n      default:\n        return NaN;\n    }\n  };\n\n  MDCSliderFoundation.prototype.handleFocus_ = function () {\n    if (this.preventFocusState_) {\n      return;\n    }\n\n    this.adapter_.addClass(cssClasses.FOCUS);\n  };\n\n  MDCSliderFoundation.prototype.handleBlur_ = function () {\n    this.preventFocusState_ = false;\n    this.adapter_.removeClass(cssClasses.FOCUS);\n  };\n  /**\n   * Sets the value of the slider\n   */\n\n\n  MDCSliderFoundation.prototype.setValue_ = function (value, shouldFireInput, force) {\n    if (force === void 0) {\n      force = false;\n    }\n\n    if (value === this.value_ && !force) {\n      return;\n    }\n\n    var _a = this,\n        min = _a.min_,\n        max = _a.max_;\n\n    var valueSetToBoundary = value === min || value === max;\n\n    if (this.step_ && !valueSetToBoundary) {\n      value = this.quantize_(value);\n    }\n\n    if (value < min) {\n      value = min;\n    } else if (value > max) {\n      value = max;\n    }\n\n    this.value_ = value;\n    this.adapter_.setAttribute(strings.ARIA_VALUENOW, String(this.value_));\n    this.updateUIForCurrentValue_();\n\n    if (shouldFireInput) {\n      this.adapter_.notifyInput();\n\n      if (this.isDiscrete_) {\n        this.adapter_.setMarkerValue(value);\n      }\n    }\n  };\n  /**\n   * Calculates the quantized value\n   */\n\n\n  MDCSliderFoundation.prototype.quantize_ = function (value) {\n    var numSteps = Math.round(value / this.step_);\n    return numSteps * this.step_;\n  };\n\n  MDCSliderFoundation.prototype.updateUIForCurrentValue_ = function () {\n    var _this = this;\n\n    var _a = this,\n        max = _a.max_,\n        min = _a.min_,\n        value = _a.value_;\n\n    var pctComplete = (value - min) / (max - min);\n    var translatePx = pctComplete * this.rect_.width;\n\n    if (this.adapter_.isRTL()) {\n      translatePx = this.rect_.width - translatePx;\n    }\n\n    var transformProp = getCorrectPropertyName(window, 'transform');\n    var transitionendEvtName = getCorrectEventName(window, 'transitionend');\n\n    if (this.inTransit_) {\n      var onTransitionEnd_1 = function () {\n        _this.setInTransit_(false);\n\n        _this.adapter_.deregisterThumbContainerInteractionHandler(transitionendEvtName, onTransitionEnd_1);\n      };\n\n      this.adapter_.registerThumbContainerInteractionHandler(transitionendEvtName, onTransitionEnd_1);\n    }\n\n    requestAnimationFrame(function () {\n      // NOTE(traviskaufman): It would be nice to use calc() here,\n      // but IE cannot handle calcs in transforms correctly.\n      // See: https://goo.gl/NC2itk\n      // Also note that the -50% offset is used to center the slider thumb.\n      _this.adapter_.setThumbContainerStyleProperty(transformProp, \"translateX(\" + translatePx + \"px) translateX(-50%)\");\n\n      _this.adapter_.setTrackStyleProperty(transformProp, \"scaleX(\" + pctComplete + \")\");\n    });\n  };\n  /**\n   * Toggles the active state of the slider\n   */\n\n\n  MDCSliderFoundation.prototype.setActive_ = function (active) {\n    this.active_ = active;\n    this.toggleClass_(cssClasses.ACTIVE, this.active_);\n  };\n  /**\n   * Toggles the inTransit state of the slider\n   */\n\n\n  MDCSliderFoundation.prototype.setInTransit_ = function (inTransit) {\n    this.inTransit_ = inTransit;\n    this.toggleClass_(cssClasses.IN_TRANSIT, this.inTransit_);\n  };\n  /**\n   * Conditionally adds or removes a class based on shouldBePresent\n   */\n\n\n  MDCSliderFoundation.prototype.toggleClass_ = function (className, shouldBePresent) {\n    if (shouldBePresent) {\n      this.adapter_.addClass(className);\n    } else {\n      this.adapter_.removeClass(className);\n    }\n  };\n\n  return MDCSliderFoundation;\n}(MDCFoundation);\n\nexport { MDCSliderFoundation }; // tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\n\nexport default MDCSliderFoundation;","map":{"version":3,"sources":["foundation.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright 2017 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport * as tslib_1 from \"tslib\";\nimport { getCorrectEventName, getCorrectPropertyName } from '@material/animation/util';\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, numbers, strings } from './constants';\nvar DOWN_EVENTS = ['mousedown', 'pointerdown', 'touchstart'];\nvar UP_EVENTS = ['mouseup', 'pointerup', 'touchend'];\nvar MOVE_EVENT_MAP = {\n    mousedown: 'mousemove',\n    pointerdown: 'pointermove',\n    touchstart: 'touchmove',\n};\nvar KEY_IDS = {\n    ARROW_DOWN: 'ArrowDown',\n    ARROW_LEFT: 'ArrowLeft',\n    ARROW_RIGHT: 'ArrowRight',\n    ARROW_UP: 'ArrowUp',\n    END: 'End',\n    HOME: 'Home',\n    PAGE_DOWN: 'PageDown',\n    PAGE_UP: 'PageUp',\n};\nvar MDCSliderFoundation = /** @class */ (function (_super) {\n    tslib_1.__extends(MDCSliderFoundation, _super);\n    function MDCSliderFoundation(adapter) {\n        var _this = _super.call(this, tslib_1.__assign({}, MDCSliderFoundation.defaultAdapter, adapter)) || this;\n        /**\n         * We set this to NaN since we want it to be a number, but we can't use '0' or '-1'\n         * because those could be valid tabindices set by the client code.\n         */\n        _this.savedTabIndex_ = NaN;\n        _this.active_ = false;\n        _this.inTransit_ = false;\n        _this.isDiscrete_ = false;\n        _this.hasTrackMarker_ = false;\n        _this.handlingThumbTargetEvt_ = false;\n        _this.min_ = 0;\n        _this.max_ = 100;\n        _this.step_ = 0;\n        _this.value_ = 0;\n        _this.disabled_ = false;\n        _this.preventFocusState_ = false;\n        _this.thumbContainerPointerHandler_ = function () { return _this.handlingThumbTargetEvt_ = true; };\n        _this.interactionStartHandler_ = function (evt) { return _this.handleDown_(evt); };\n        _this.keydownHandler_ = function (evt) { return _this.handleKeydown_(evt); };\n        _this.focusHandler_ = function () { return _this.handleFocus_(); };\n        _this.blurHandler_ = function () { return _this.handleBlur_(); };\n        _this.resizeHandler_ = function () { return _this.layout(); };\n        return _this;\n    }\n    Object.defineProperty(MDCSliderFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSliderFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSliderFoundation, \"numbers\", {\n        get: function () {\n            return numbers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCSliderFoundation, \"defaultAdapter\", {\n        get: function () {\n            // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n            return {\n                hasClass: function () { return false; },\n                addClass: function () { return undefined; },\n                removeClass: function () { return undefined; },\n                getAttribute: function () { return null; },\n                setAttribute: function () { return undefined; },\n                removeAttribute: function () { return undefined; },\n                computeBoundingRect: function () { return ({ top: 0, right: 0, bottom: 0, left: 0, width: 0, height: 0 }); },\n                getTabIndex: function () { return 0; },\n                registerInteractionHandler: function () { return undefined; },\n                deregisterInteractionHandler: function () { return undefined; },\n                registerThumbContainerInteractionHandler: function () { return undefined; },\n                deregisterThumbContainerInteractionHandler: function () { return undefined; },\n                registerBodyInteractionHandler: function () { return undefined; },\n                deregisterBodyInteractionHandler: function () { return undefined; },\n                registerResizeHandler: function () { return undefined; },\n                deregisterResizeHandler: function () { return undefined; },\n                notifyInput: function () { return undefined; },\n                notifyChange: function () { return undefined; },\n                setThumbContainerStyleProperty: function () { return undefined; },\n                setTrackStyleProperty: function () { return undefined; },\n                setMarkerValue: function () { return undefined; },\n                appendTrackMarkers: function () { return undefined; },\n                removeTrackMarkers: function () { return undefined; },\n                setLastTrackMarkersStyleProperty: function () { return undefined; },\n                isRTL: function () { return false; },\n            };\n            // tslint:enable:object-literal-sort-keys\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCSliderFoundation.prototype.init = function () {\n        var _this = this;\n        this.isDiscrete_ = this.adapter_.hasClass(cssClasses.IS_DISCRETE);\n        this.hasTrackMarker_ = this.adapter_.hasClass(cssClasses.HAS_TRACK_MARKER);\n        DOWN_EVENTS.forEach(function (evtName) {\n            _this.adapter_.registerInteractionHandler(evtName, _this.interactionStartHandler_);\n            _this.adapter_.registerThumbContainerInteractionHandler(evtName, _this.thumbContainerPointerHandler_);\n        });\n        this.adapter_.registerInteractionHandler('keydown', this.keydownHandler_);\n        this.adapter_.registerInteractionHandler('focus', this.focusHandler_);\n        this.adapter_.registerInteractionHandler('blur', this.blurHandler_);\n        this.adapter_.registerResizeHandler(this.resizeHandler_);\n        this.layout();\n        // At last step, provide a reasonable default value to discrete slider\n        if (this.isDiscrete_ && this.getStep() === 0) {\n            this.step_ = 1;\n        }\n    };\n    MDCSliderFoundation.prototype.destroy = function () {\n        var _this = this;\n        DOWN_EVENTS.forEach(function (evtName) {\n            _this.adapter_.deregisterInteractionHandler(evtName, _this.interactionStartHandler_);\n            _this.adapter_.deregisterThumbContainerInteractionHandler(evtName, _this.thumbContainerPointerHandler_);\n        });\n        this.adapter_.deregisterInteractionHandler('keydown', this.keydownHandler_);\n        this.adapter_.deregisterInteractionHandler('focus', this.focusHandler_);\n        this.adapter_.deregisterInteractionHandler('blur', this.blurHandler_);\n        this.adapter_.deregisterResizeHandler(this.resizeHandler_);\n    };\n    MDCSliderFoundation.prototype.setupTrackMarker = function () {\n        if (this.isDiscrete_ && this.hasTrackMarker_ && this.getStep() !== 0) {\n            var min = this.getMin();\n            var max = this.getMax();\n            var step = this.getStep();\n            var numMarkers = (max - min) / step;\n            // In case distance between max & min is indivisible to step,\n            // we place the secondary to last marker proportionally at where thumb\n            // could reach and place the last marker at max value\n            var indivisible = Math.ceil(numMarkers) !== numMarkers;\n            if (indivisible) {\n                numMarkers = Math.ceil(numMarkers);\n            }\n            this.adapter_.removeTrackMarkers();\n            this.adapter_.appendTrackMarkers(numMarkers);\n            if (indivisible) {\n                var lastStepRatio = (max - numMarkers * step) / step + 1;\n                this.adapter_.setLastTrackMarkersStyleProperty('flex-grow', String(lastStepRatio));\n            }\n        }\n    };\n    MDCSliderFoundation.prototype.layout = function () {\n        this.rect_ = this.adapter_.computeBoundingRect();\n        this.updateUIForCurrentValue_();\n    };\n    MDCSliderFoundation.prototype.getValue = function () {\n        return this.value_;\n    };\n    MDCSliderFoundation.prototype.setValue = function (value) {\n        this.setValue_(value, false);\n    };\n    MDCSliderFoundation.prototype.getMax = function () {\n        return this.max_;\n    };\n    MDCSliderFoundation.prototype.setMax = function (max) {\n        if (max < this.min_) {\n            throw new Error('Cannot set max to be less than the slider\\'s minimum value');\n        }\n        this.max_ = max;\n        this.setValue_(this.value_, false, true);\n        this.adapter_.setAttribute(strings.ARIA_VALUEMAX, String(this.max_));\n        this.setupTrackMarker();\n    };\n    MDCSliderFoundation.prototype.getMin = function () {\n        return this.min_;\n    };\n    MDCSliderFoundation.prototype.setMin = function (min) {\n        if (min > this.max_) {\n            throw new Error('Cannot set min to be greater than the slider\\'s maximum value');\n        }\n        this.min_ = min;\n        this.setValue_(this.value_, false, true);\n        this.adapter_.setAttribute(strings.ARIA_VALUEMIN, String(this.min_));\n        this.setupTrackMarker();\n    };\n    MDCSliderFoundation.prototype.getStep = function () {\n        return this.step_;\n    };\n    MDCSliderFoundation.prototype.setStep = function (step) {\n        if (step < 0) {\n            throw new Error('Step cannot be set to a negative number');\n        }\n        if (this.isDiscrete_ && (typeof (step) !== 'number' || step < 1)) {\n            step = 1;\n        }\n        this.step_ = step;\n        this.setValue_(this.value_, false, true);\n        this.setupTrackMarker();\n    };\n    MDCSliderFoundation.prototype.isDisabled = function () {\n        return this.disabled_;\n    };\n    MDCSliderFoundation.prototype.setDisabled = function (disabled) {\n        this.disabled_ = disabled;\n        this.toggleClass_(cssClasses.DISABLED, this.disabled_);\n        if (this.disabled_) {\n            this.savedTabIndex_ = this.adapter_.getTabIndex();\n            this.adapter_.setAttribute(strings.ARIA_DISABLED, 'true');\n            this.adapter_.removeAttribute('tabindex');\n        }\n        else {\n            this.adapter_.removeAttribute(strings.ARIA_DISABLED);\n            if (!isNaN(this.savedTabIndex_)) {\n                this.adapter_.setAttribute('tabindex', String(this.savedTabIndex_));\n            }\n        }\n    };\n    /**\n     * Called when the user starts interacting with the slider\n     */\n    MDCSliderFoundation.prototype.handleDown_ = function (downEvent) {\n        var _this = this;\n        if (this.disabled_) {\n            return;\n        }\n        this.preventFocusState_ = true;\n        this.setInTransit_(!this.handlingThumbTargetEvt_);\n        this.handlingThumbTargetEvt_ = false;\n        this.setActive_(true);\n        var moveHandler = function (moveEvent) {\n            _this.handleMove_(moveEvent);\n        };\n        var moveEventType = MOVE_EVENT_MAP[downEvent.type];\n        // Note: upHandler is [de]registered on ALL potential pointer-related release event types, since some browsers\n        // do not always fire these consistently in pairs.\n        // (See https://github.com/material-components/material-components-web/issues/1192)\n        var upHandler = function () {\n            _this.handleUp_();\n            _this.adapter_.deregisterBodyInteractionHandler(moveEventType, moveHandler);\n            UP_EVENTS.forEach(function (evtName) { return _this.adapter_.deregisterBodyInteractionHandler(evtName, upHandler); });\n        };\n        this.adapter_.registerBodyInteractionHandler(moveEventType, moveHandler);\n        UP_EVENTS.forEach(function (evtName) { return _this.adapter_.registerBodyInteractionHandler(evtName, upHandler); });\n        this.setValueFromEvt_(downEvent);\n    };\n    /**\n     * Called when the user moves the slider\n     */\n    MDCSliderFoundation.prototype.handleMove_ = function (evt) {\n        evt.preventDefault();\n        this.setValueFromEvt_(evt);\n    };\n    /**\n     * Called when the user's interaction with the slider ends\n     */\n    MDCSliderFoundation.prototype.handleUp_ = function () {\n        this.setActive_(false);\n        this.adapter_.notifyChange();\n    };\n    /**\n     * Returns the pageX of the event\n     */\n    MDCSliderFoundation.prototype.getPageX_ = function (evt) {\n        if (evt.targetTouches && evt.targetTouches.length > 0) {\n            return evt.targetTouches[0].pageX;\n        }\n        return evt.pageX;\n    };\n    /**\n     * Sets the slider value from an event\n     */\n    MDCSliderFoundation.prototype.setValueFromEvt_ = function (evt) {\n        var pageX = this.getPageX_(evt);\n        var value = this.computeValueFromPageX_(pageX);\n        this.setValue_(value, true);\n    };\n    /**\n     * Computes the new value from the pageX position\n     */\n    MDCSliderFoundation.prototype.computeValueFromPageX_ = function (pageX) {\n        var _a = this, max = _a.max_, min = _a.min_;\n        var xPos = pageX - this.rect_.left;\n        var pctComplete = xPos / this.rect_.width;\n        if (this.adapter_.isRTL()) {\n            pctComplete = 1 - pctComplete;\n        }\n        // Fit the percentage complete between the range [min,max]\n        // by remapping from [0, 1] to [min, min+(max-min)].\n        return min + pctComplete * (max - min);\n    };\n    /**\n     * Handles keydown events\n     */\n    MDCSliderFoundation.prototype.handleKeydown_ = function (evt) {\n        var keyId = this.getKeyId_(evt);\n        var value = this.getValueForKeyId_(keyId);\n        if (isNaN(value)) {\n            return;\n        }\n        // Prevent page from scrolling due to key presses that would normally scroll the page\n        evt.preventDefault();\n        this.adapter_.addClass(cssClasses.FOCUS);\n        this.setValue_(value, true);\n        this.adapter_.notifyChange();\n    };\n    /**\n     * Returns the computed name of the event\n     */\n    MDCSliderFoundation.prototype.getKeyId_ = function (kbdEvt) {\n        if (kbdEvt.key === KEY_IDS.ARROW_LEFT || kbdEvt.keyCode === 37) {\n            return KEY_IDS.ARROW_LEFT;\n        }\n        if (kbdEvt.key === KEY_IDS.ARROW_RIGHT || kbdEvt.keyCode === 39) {\n            return KEY_IDS.ARROW_RIGHT;\n        }\n        if (kbdEvt.key === KEY_IDS.ARROW_UP || kbdEvt.keyCode === 38) {\n            return KEY_IDS.ARROW_UP;\n        }\n        if (kbdEvt.key === KEY_IDS.ARROW_DOWN || kbdEvt.keyCode === 40) {\n            return KEY_IDS.ARROW_DOWN;\n        }\n        if (kbdEvt.key === KEY_IDS.HOME || kbdEvt.keyCode === 36) {\n            return KEY_IDS.HOME;\n        }\n        if (kbdEvt.key === KEY_IDS.END || kbdEvt.keyCode === 35) {\n            return KEY_IDS.END;\n        }\n        if (kbdEvt.key === KEY_IDS.PAGE_UP || kbdEvt.keyCode === 33) {\n            return KEY_IDS.PAGE_UP;\n        }\n        if (kbdEvt.key === KEY_IDS.PAGE_DOWN || kbdEvt.keyCode === 34) {\n            return KEY_IDS.PAGE_DOWN;\n        }\n        return '';\n    };\n    /**\n     * Computes the value given a keyboard key ID\n     */\n    MDCSliderFoundation.prototype.getValueForKeyId_ = function (keyId) {\n        var _a = this, max = _a.max_, min = _a.min_, step = _a.step_;\n        var delta = step || (max - min) / 100;\n        var valueNeedsToBeFlipped = this.adapter_.isRTL() && (keyId === KEY_IDS.ARROW_LEFT || keyId === KEY_IDS.ARROW_RIGHT);\n        if (valueNeedsToBeFlipped) {\n            delta = -delta;\n        }\n        switch (keyId) {\n            case KEY_IDS.ARROW_LEFT:\n            case KEY_IDS.ARROW_DOWN:\n                return this.value_ - delta;\n            case KEY_IDS.ARROW_RIGHT:\n            case KEY_IDS.ARROW_UP:\n                return this.value_ + delta;\n            case KEY_IDS.HOME:\n                return this.min_;\n            case KEY_IDS.END:\n                return this.max_;\n            case KEY_IDS.PAGE_UP:\n                return this.value_ + delta * numbers.PAGE_FACTOR;\n            case KEY_IDS.PAGE_DOWN:\n                return this.value_ - delta * numbers.PAGE_FACTOR;\n            default:\n                return NaN;\n        }\n    };\n    MDCSliderFoundation.prototype.handleFocus_ = function () {\n        if (this.preventFocusState_) {\n            return;\n        }\n        this.adapter_.addClass(cssClasses.FOCUS);\n    };\n    MDCSliderFoundation.prototype.handleBlur_ = function () {\n        this.preventFocusState_ = false;\n        this.adapter_.removeClass(cssClasses.FOCUS);\n    };\n    /**\n     * Sets the value of the slider\n     */\n    MDCSliderFoundation.prototype.setValue_ = function (value, shouldFireInput, force) {\n        if (force === void 0) { force = false; }\n        if (value === this.value_ && !force) {\n            return;\n        }\n        var _a = this, min = _a.min_, max = _a.max_;\n        var valueSetToBoundary = value === min || value === max;\n        if (this.step_ && !valueSetToBoundary) {\n            value = this.quantize_(value);\n        }\n        if (value < min) {\n            value = min;\n        }\n        else if (value > max) {\n            value = max;\n        }\n        this.value_ = value;\n        this.adapter_.setAttribute(strings.ARIA_VALUENOW, String(this.value_));\n        this.updateUIForCurrentValue_();\n        if (shouldFireInput) {\n            this.adapter_.notifyInput();\n            if (this.isDiscrete_) {\n                this.adapter_.setMarkerValue(value);\n            }\n        }\n    };\n    /**\n     * Calculates the quantized value\n     */\n    MDCSliderFoundation.prototype.quantize_ = function (value) {\n        var numSteps = Math.round(value / this.step_);\n        return numSteps * this.step_;\n    };\n    MDCSliderFoundation.prototype.updateUIForCurrentValue_ = function () {\n        var _this = this;\n        var _a = this, max = _a.max_, min = _a.min_, value = _a.value_;\n        var pctComplete = (value - min) / (max - min);\n        var translatePx = pctComplete * this.rect_.width;\n        if (this.adapter_.isRTL()) {\n            translatePx = this.rect_.width - translatePx;\n        }\n        var transformProp = getCorrectPropertyName(window, 'transform');\n        var transitionendEvtName = getCorrectEventName(window, 'transitionend');\n        if (this.inTransit_) {\n            var onTransitionEnd_1 = function () {\n                _this.setInTransit_(false);\n                _this.adapter_.deregisterThumbContainerInteractionHandler(transitionendEvtName, onTransitionEnd_1);\n            };\n            this.adapter_.registerThumbContainerInteractionHandler(transitionendEvtName, onTransitionEnd_1);\n        }\n        requestAnimationFrame(function () {\n            // NOTE(traviskaufman): It would be nice to use calc() here,\n            // but IE cannot handle calcs in transforms correctly.\n            // See: https://goo.gl/NC2itk\n            // Also note that the -50% offset is used to center the slider thumb.\n            _this.adapter_.setThumbContainerStyleProperty(transformProp, \"translateX(\" + translatePx + \"px) translateX(-50%)\");\n            _this.adapter_.setTrackStyleProperty(transformProp, \"scaleX(\" + pctComplete + \")\");\n        });\n    };\n    /**\n     * Toggles the active state of the slider\n     */\n    MDCSliderFoundation.prototype.setActive_ = function (active) {\n        this.active_ = active;\n        this.toggleClass_(cssClasses.ACTIVE, this.active_);\n    };\n    /**\n     * Toggles the inTransit state of the slider\n     */\n    MDCSliderFoundation.prototype.setInTransit_ = function (inTransit) {\n        this.inTransit_ = inTransit;\n        this.toggleClass_(cssClasses.IN_TRANSIT, this.inTransit_);\n    };\n    /**\n     * Conditionally adds or removes a class based on shouldBePresent\n     */\n    MDCSliderFoundation.prototype.toggleClass_ = function (className, shouldBePresent) {\n        if (shouldBePresent) {\n            this.adapter_.addClass(className);\n        }\n        else {\n            this.adapter_.removeClass(className);\n        }\n    };\n    return MDCSliderFoundation;\n}(MDCFoundation));\nexport { MDCSliderFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCSliderFoundation;\n//# sourceMappingURL=foundation.js.map"]},"metadata":{},"sourceType":"module"}